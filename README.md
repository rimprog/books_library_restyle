# Сайт онлайн библиотеки

Проект представляет собой сайт онлайн библиотеки и состоит из:
- Основаного на функционале библиотеки [Jinja2](https://jinja.palletsprojects.com/en/3.0.x/) шаблона html страниц `template.html`.
- Скрипта генератора html страниц `render_website.py` с поддержкой локального веб-сервера из библиотеки [livereload](https://github.com/lepture/python-livereload#developer-guide).

# Как это работает

На основе данных о книгах, содержащихся в файле `books_description.json`, запуск скрипта `render_website.py` генерирует итоговое количество html страниц с разбивкой по 20 книг на одной странице.

В верхней части каждой страницы автоматически создается пагинатор для навигации по сайту. Для перехода на следующую страницу можно нажимать кнопку `вперед`, либо нажимать кнопку `назад` для возврата на предыдущую страницу. Также можно нажимать на нумерованные кнопки пагинатора, каждая из которых соответствует сгенерированному файлу `index.html` с уникальной выборкой из общей базы книг.

Сами книги представленны в виде карточек, где выводятся изображение обложки книги вместе с ее названием, автором и жанрами. Также на каждой карточке книги присутствует ссылка `Читать`, ведущая непосредственно на текст книги. При нажатии на `Читать`, текст книги открывается в новом окне браузера.

Более подробно ознакомиться с функционалом, вы можете, перейдя на опубликованную [действующую версию сайта](https://rimprog.github.io/books_library_restyle/pages/index1.html).

## Запуск

- Скачайте репозиторий с кодом и прилегающими файлами.
- Установите зависимости командой `pip install -r requirements.txt`.
- Запустите скрипт командой `python3 render_website.py`.
- В браузере перейдите на сайт по [адресу](http://127.0.0.1:5500/pages/index1.html).

В случае успешного запуска скрипта, в консоль будет выведен ряд следующих уведомлений:
```
[I 210823 21:59:14 server:335] Serving on http://127.0.0.1:5500
[I 210823 21:59:14 handlers:62] Start watching changes
[I 210823 21:59:14 handlers:64] Start detecting changes
```

Если вы не понимаете инструкций выше, но желаете запустить актуальную версию онлайн библиотеки в своем браузере, то следуйте этим шагам:
- Перейдите на страницу [репозитория](https://github.com/rimprog/books_library_restyle) проекта.
- Нажмите кнопку `Code`, после чего появится выпадающее меню.
- В выпадающем меню нажмите кнопку `Download ZIP`, после чего начнется скачивание архива с сайтом.
- Разархивируйте архив и перейдите в каталог `pages`.
- В вашем браузере откройте файл `index1.html`.
- Поздравляем, вы запустили онлайн библиотеку в вашем браузере.
- Читайте раздел [#Как это работает](https://github.com/rimprog/books_library_restyle#как-это-работает) текущей документации, если у вас появился вопрос как читать книги или переходить между страницами сайта

## Наполнение сайта

Каталог `media` корневого раздела проекта, содержит:
- Каталог `images` со всеми изображениями обложек книг.
- Каталог `books` со всеми текстами книг.
- Файл `books_description.json` с тестовыми данными описания книг в формате json.

В каталоге `static` корневого раздела проекта, содержатся компоненты [Bootstrap](https://bootstrap-4.ru/docs/5.0/getting-started/introduction/) обеспечивающих визуальное наполнение дизайна сайта, а также иные компоненты служащие той же цели.

В каталоге `pages` корневого раздела проекта, содержатся отрендеренные по шаблону `template.html` страницы сайта онлайн библиотеки с отрисованными на них карточками книг. Номер в названии файла соответствует номеру странице на сайте.

Тестовые данные для сайта получены из онлайн библиотеки [tululu.org](https://tululu.org/) при помощи данного [парсера](https://github.com/rimprog/books_library)

Пример описания книги из файла `books_description.json`:
```
{
    "title": "Алиби",
    "author": "ИВАНОВ Сергей",
    "image_url": "https://tululu.org/shots/239.jpg",
    "image_src": "images/239.jpg",
    "book_id": "239",
    "book_filename": "239. Алиби.txt",
    "book_path": "books/239. Алиби.txt",
    "comments": [
      "Детский вариант анекдотов про Шерлока Холмса)",
      "Загадки я люблю.)))",
      "А мне понравилось, люблю, знаете ли, всякие загадочки, головоломочки, кроссвордики, Гимнастика ума, одним словом... \nВо всём можно найти положительные моменты, не разгадал загадку, так хоть гренки научился готовить отменные... :-)",
      "Очень поучительное для ребенка 10 лет."
    ],
    "genres": [
      "Научная фантастика",
      "Прочие Детективы"
    ]
  }
```

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).
